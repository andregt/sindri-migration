{"conta":{"description":"Gerenciamento de contas no sistema","columns":{"conta_id":{"type":"PRIMARY","notNull":false,"default":"","comment":""},"nome":{"type":"VARCHAR(255)","notNull":true,"default":"''","comment":""},"email":{"type":"VARCHAR(255)","notNull":true,"default":"''","comment":""},"cpfCnpj":{"type":"VARCHAR(15)","notNull":true,"default":"''","comment":""},"tipoCadastro":{"type":"CHAR(1)","notNull":true,"default":"","comment":"F -> Pessoa Física\nJ -> Pessoa Jurídica"},"razaoSocial":{"type":"VARCHAR(255)","notNull":false,"default":"","comment":""},"endereco":{"type":"VARCHAR(255)","notNull":true,"default":"''","comment":""},"numero":{"type":"VARCHAR(15)","notNull":true,"default":"''","comment":""},"complemento":{"type":"VARCHAR(15)","notNull":false,"default":"","comment":""},"cep":{"type":"VARCHAR(15)","notNull":true,"default":"''","comment":""},"bairro":{"type":"VARCHAR(255)","notNull":false,"default":"","comment":""},"telefone":{"type":"VARCHAR(32)","notNull":true,"default":"''","comment":""},"celular":{"type":"VARCHAR(32)","notNull":false,"default":"","comment":""},"municipio":{"type":"VARCHAR(255)","notNull":true,"default":"''","comment":""},"estado":{"type":"VARCHAR(255)","notNull":true,"default":"''","comment":""},"pais":{"type":"VARCHAR(255)","notNull":true,"default":"''","comment":""},"rg":{"type":"VARCHAR(15)","notNull":true,"default":"''","comment":""},"inscricaoEstadual":{"type":"VARCHAR(15)","notNull":false,"default":"","comment":""},"sexo":{"type":"CHAR(1)","notNull":true,"default":"''","comment":"M -> Masculino\nF -> Feminino"},"dataNascimento":{"type":"DATE","notNull":false,"default":"","comment":""},"dataCadastro":{"type":"TIMESTAMP","notNull":true,"default":"CURRENT_TIMESTAMP","comment":""},"ativo":{"type":"BIT(1)","notNull":true,"default":"1","comment":"1 -> Ativo\n0 -> Inativo"},"removido":{"type":"BIT(1)","notNull":false,"default":"0","comment":"0 -> Não Removido\n1 -> Removido"}},"relations":{},"indexes":{"idx_conta_email":{"type":"unique index","columns":["email"]},"idx_conta_cpfCnpj":{"type":"unique index","columns":["cpfCnpj"]},"idx_conta_rg":{"type":"unique index","columns":["rg"]},"idx_conta_inscricaoEstadual":{"type":"unique index","columns":["inscricaoEstadual"]}},"primaryKey":["conta_id"],"name":"conta"},"menu":{"description":"Menus do Sistema","columns":{"menu_id":{"type":"PRIMARY","notNull":false,"default":"","comment":""},"nome":{"type":"VARCHAR(64)","notNull":true,"default":"","comment":"Nome do Menu, usado internamente pelo sistema"},"titulo":{"type":"VARCHAR(64)","notNull":true,"default":"","comment":"Título do menu"},"descricao":{"type":"VARCHAR(512)","notNull":false,"default":"","comment":""},"menuPai":{"type":"PRIMARY","notNull":false,"default":"","comment":"Aponta para um menu superior (hierarquia)"},"alvo":{"type":"VARCHAR(1024)","notNull":false,"default":"","comment":"Destino do menu, podendo ser uma url, uma rota ou outro valor usado para ativar o menu"},"ordem":{"type":"SMALLINT","notNull":true,"default":"0","comment":"Ordem de exibição"},"icone":{"type":"VARCHAR(256)","notNull":false,"default":"","comment":"Nome do ícone que será exibido no menu"},"ativo":{"type":"BIT(1)","notNull":true,"default":"1","comment":""}},"relations":{"fk_menu___menu":{"foreignKey":"menuPai","referenceKey":"menu_id","referenceTable":"menu","onDelete":null,"onUpdate":null}},"indexes":{"idx_menu_nome":{"type":"unique index","columns":["nome"]}},"primaryKey":["menu_id"],"name":"menu"},"perfil":{"description":"Perfil de Acesso","columns":{"perfil_id":{"type":"PRIMARY","notNull":false,"default":"","comment":""},"conta_id":{"type":"PRIMARY","notNull":false,"default":"","comment":"Perfil pode ser global ou pertencer a uma conta, se null é global\nou chave estrangeira para conta"},"nome":{"type":"VARCHAR(64)","notNull":true,"default":"","comment":""},"descricao":{"type":"VARCHAR(512)","notNull":false,"default":"","comment":"Descrição do perfil"},"ativo":{"type":"BIT","notNull":true,"default":"1","comment":"0 -> Inativo\n1 -> Ativo"},"removido":{"type":"BIT","notNull":true,"default":"0","comment":"0 -> Não removido\n1 -> Removido"}},"relations":{"fk_conta___perfil":{"foreignKey":"conta_id","referenceKey":"conta_id","referenceTable":"conta","onDelete":null,"onUpdate":null}},"indexes":{"idx_perfil__nome":{"type":"unique index","columns":["nome","conta_id"]}},"primaryKey":["perfil_id"],"name":"perfil"},"perfil__permissao":{"description":"Relacionamento M-N perfil -> permissão\n","columns":{"perfil__permissao_id":{"type":"PRIMARY","notNull":false,"default":"","comment":""},"perfil_id":{"type":"PRIMARY","notNull":true,"default":"","comment":""},"permissao_id":{"type":"PRIMARY","notNull":true,"default":"","comment":""}},"relations":{"fk_perfil___perfil__permissao":{"foreignKey":"perfil_id","referenceKey":"perfil_id","referenceTable":"perfil","onDelete":"CASCADE","onUpdate":null},"fk_permissao___perfil__permissao":{"foreignKey":"permissao_id","referenceKey":"permissao_id","referenceTable":"permissao","onDelete":"CASCADE","onUpdate":null}},"indexes":{"idx_perfil__permissao":{"type":"unique index","columns":["perfil_id","permissao_id"]}},"primaryKey":["perfil__permissao_id"],"name":"perfil__permissao"},"permissao":{"description":"Gerenciamento de Permissão","columns":{"permissao_id":{"type":"PRIMARY","notNull":false,"default":"","comment":""},"permissao":{"type":"VARCHAR(128)","notNull":true,"default":"","comment":"Nome da permissão, (Nome no sistema)\n"},"titulo":{"type":"VARCHAR(63)","notNull":true,"default":"","comment":"Nome Amigável da permissão, que será exibido para o usuário"},"descricao":{"type":"VARCHAR(512)","notNull":false,"default":"","comment":"Descritivo da permissão"},"ativo":{"type":"BIT(1)","notNull":true,"default":"1","comment":"0 -> Inativo\n1 -> Ativo"},"categoria":{"type":"VARCHAR(64)","notNull":false,"default":"","comment":"Categoria da permissão, para melhor organizão para o usuário"}},"relations":{},"indexes":{"idx_permissao_permissao":{"type":"unique index","columns":["permissao"]}},"primaryKey":["permissao_id"],"name":"permissao"},"permissao__menu":{"description":"Relacionamento M-N permissao -> menu\n","columns":{"permissao__menu_id":{"type":"PRIMARY","notNull":false,"default":"","comment":""},"permissao_id":{"type":"PRIMARY","notNull":true,"default":"","comment":""},"menu_id":{"type":"PRIMARY","notNull":true,"default":"","comment":""}},"relations":{"fk_permissao___permissao__menu":{"foreignKey":"permissao_id","referenceKey":"permissao_id","referenceTable":"permissao","onDelete":"CASCADE","onUpdate":null},"fk_menu___permissao__menu":{"foreignKey":"menu_id","referenceKey":"menu_id","referenceTable":"menu","onDelete":"CASCADE","onUpdate":null}},"indexes":{"idx_permissao__menu":{"type":"unique index","columns":["permissao_id","menu_id"]}},"primaryKey":["permissao__menu_id"],"name":"permissao__menu"},"usuario":{"description":"Gerenciamento de usuários no sistema\n","columns":{"usuario_id":{"type":"PRIMARY","notNull":false,"default":"","comment":""},"conta_id":{"type":"PRIMARY","notNull":false,"default":"","comment":""},"usuario":{"type":"VARCHAR(255)","notNull":true,"default":"","comment":"Pode ser nulo quando acesso via facebook ou outros"},"senha":{"type":"TEXT(1024)","notNull":false,"default":"","comment":""},"administradorConta":{"type":"BIT(1)","notNull":true,"default":"0","comment":"Tem todos os acessos para a conta que pertence\n\n0 -> Não\n1 -> Sim"},"administradorGeral":{"type":"BIT(1)","notNull":true,"default":"0","comment":"Administrador Geral do sistema (tem acesso a todos os dados, independente da conta)\n\n0 -> Não\n1 -> Sim"},"nome":{"type":"VARCHAR(255)","notNull":true,"default":"''","comment":"Nome do Usuario"},"email":{"type":"VARCHAR(255)","notNull":true,"default":"''","comment":""},"imagem":{"type":"VARCHAR(255)","notNull":true,"default":"''","comment":"Imagem ou foto do usuário no sistema"},"dataCadastro":{"type":"TIMESTAMP","notNull":true,"default":"CURRENT_TIMESTAMP","comment":""},"ativo":{"type":"BIT(1)","notNull":false,"default":"1","comment":"1 -> Ativo\n0 -> Inativo"},"removido":{"type":"BIT(1)","notNull":true,"default":"0","comment":"0 -> Não Removido\n1 -> Removido"},"validadeSenha":{"type":" INT UNSIGNED","notNull":false,"default":"","comment":"Validade da senha em dias"},"dataAtualizacaoSenha":{"type":"DATETIME","notNull":true,"default":"CURRENT_TIMESTAMP","comment":"Data em que a senha foi atualizada"},"alterarSenha":{"type":"BIT(1)","notNull":true,"default":"0","comment":"0 -> Não pede para alterar senha\n1 -> Pede para alterar senha, próximo logon"},"token":{"type":"TEXT(1024)","notNull":false,"default":"","comment":"Token de autenticação"}},"relations":{"fk_conta___usuario":{"foreignKey":"conta_id","referenceKey":"conta_id","referenceTable":"conta","onDelete":null,"onUpdate":null}},"indexes":{"idx_usuario_usuario":{"type":"unique index","columns":["usuario"]},"idx_usuario_email":{"type":"unique index","columns":["email"]}},"primaryKey":["usuario_id"],"name":"usuario"},"usuario__perfil":{"description":"Relacionamento M-N usuario -> perfil\n","columns":{"usuario__perfil_id":{"type":"PRIMARY","notNull":false,"default":"","comment":""},"perfil_id":{"type":"PRIMARY","notNull":true,"default":"","comment":""},"usuario_id":{"type":"PRIMARY","notNull":true,"default":"","comment":""}},"relations":{"fk_usuario___usuario__perfil":{"foreignKey":"usuario_id","referenceKey":"usuario_id","referenceTable":"usuario","onDelete":"CASCADE","onUpdate":"CASCADE"},"fk_perfil___usuario__perfil":{"foreignKey":"perfil_id","referenceKey":"perfil_id","referenceTable":"perfil","onDelete":"CASCADE","onUpdate":null}},"indexes":{"idx_usuario__perfil":{"type":"unique index","columns":["perfil_id","usuario_id"]}},"primaryKey":["usuario__perfil_id"],"name":"usuario__perfil"}}